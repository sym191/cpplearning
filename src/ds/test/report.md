=== 原始双锁队列 - 多生产者多消费者测试 ===
生产者线程 0 完成: 1513ms (1000000 次push)
生产者线程 3 完成: 1514ms (1000000 次push)
生产者线程 2 完成: 1542ms (1000000 次push)
生产者线程 1 完成: 1544ms (1000000 次push)
消费者线程 1 完成: 3397ms (998596 次pop)
消费者线程 2 完成: 3397ms (966393 次pop)
消费者线程 0 完成: 3397ms (1010788 次pop)
消费者线程 3 完成: 3397ms (1024223 次pop)
原始双锁队列 - 多生产者多消费者: 3398ms 处理了 4000000 个元素
平均生产者时间: 1528ms
平均消费者时间: 3397ms
=== 原始双锁队列 - 交替push/pop测试 ===
原始双锁队列 - 交替push/pop: 428ms 完成了 1000000 次操作
总Push时间: 211ms
总Pop时间: 172ms
平均每次Push时间: 211ns
平均每次Pop时间: 172ns

------------------------

=== 基于std::queue的单锁队列 - 多生产者多消费者测试 ===
生产者线程 1 完成: 2759ms (1000000 次push)
生产者线程 0 完成: 2788ms (1000000 次push)
生产者线程 2 完成: 2802ms (1000000 次push)
生产者线程 3 完成: 2811ms (1000000 次push)
消费者线程 0 完成: 2822ms (1005848 次pop)
消费者线程 1 完成: 2822ms (994029 次pop)
消费者线程 3 完成: 2822ms (1014064 次pop)
消费者线程 2 完成: 2822ms (986059 次pop)
基于std::queue的单锁队列 - 多生产者多消费者: 2825ms 处理了 4000000 个元素
平均生产者时间: 2790ms
平均消费者时间: 2822ms
=== 基于std::queue的单锁队列 - 交替push/pop测试 ===
基于std::queue的单锁队列 - 交替push/pop: 217ms 完成了 1000000 次操作
总Push时间: 91ms
总Pop时间: 78ms
平均每次Push时间: 91ns
平均每次Pop时间: 78ns

性能测试完成！

### benchmark一定要开优化跑！！！！！

上面的出的结果非常意外，采用双锁之后性能居然变慢了接近一倍。查火焰图看起来是大量的unique_ptr的销毁导致的额外开销，但是unique_ptr应该是0成本抽象，没有额外开销的，不符合以往认知。后面改成O2优化之后重新测试，结果比较合理了。


> === 原始双锁队列(unique_ptr管理内存) - 多生产者多消费者测试 ===
生产者线程 2 完成: 549ms (1000000 次push)
生产者线程 1 完成: 561ms (1000000 次push)
生产者线程 3 完成: 567ms (1000000 次push)
生产者线程 0 完成: 569ms (1000000 次push)
消费者线程 1 完成: 1189ms (1007683 次pop)
消费者线程 0 完成: 1190ms (1001098 次pop)
消费者线程 3 完成: 1189ms (990638 次pop)
消费者线程 2 完成: 1189ms (1000581 次pop)
原始双锁队列(unique_ptr管理内存) - 多生产者多消费者: 1190ms 处理了 4000000 个元素
平均生产者时间: 561ms
平均消费者时间: 1189ms
=== 原始双锁队列(unique_ptr管理内存) - 交替push/pop测试 ===
原始双锁队列(unique_ptr管理内存) - 交替push/pop: 109ms 完成了 1000000 次操作
总Push时间: 34ms
总Pop时间: 44ms
平均每次Push时间: 34ns
平均每次Pop时间: 44ns

------------------------

=== 基于std::queue的单锁队列 - 多生产者多消费者测试 ===
生产者线程 3 完成: 1089ms (1000000 次push)
生产者线程 0 完成: 1158ms (1000000 次push)
生产者线程 2 完成: 1172ms (1000000 次push)
生产者线程 1 完成: 1235ms (1000000 次push)
消费者线程 2 完成: 1232ms (1023165 次pop)
消费者线程 3 完成: 1233ms (1020300 次pop)
消费者线程 0 完成: 1234ms (1015891 次pop)
消费者线程 1 完成: 1234ms (940644 次pop)
基于std::queue的单锁队列 - 多生产者多消费者: 1235ms 处理了 4000000 个元素
平均生产者时间: 1163ms
平均消费者时间: 1233ms
=== 基于std::queue的单锁队列 - 交替push/pop测试 ===
基于std::queue的单锁队列 - 交替push/pop: 89ms 完成了 1000000 次操作
总Push时间: 30ms
总Pop时间: 29ms
平均每次Push时间: 30ns
平均每次Pop时间: 29ns

-----------------------------

=== 增加threadlocal对象池的双锁队列 - 多生产者多消费者测试 ===
生产者线程 3 完成: 711ms (1000000 次push)
生产者线程 2 完成: 717ms (1000000 次push)
生产者线程 0 完成: 719ms (1000000 次push)
生产者线程 1 完成: 728ms (1000000 次push)
消费者线程 1 完成: 844ms (1031940 次pop)
消费者线程 0 完成: 844ms (992054 次pop)
消费者线程 2 完成: 844ms (991793 次pop)
消费者线程 3 完成: 844ms (984213 次pop)
增加threadlocal对象池的双锁队列 - 多生产者多消费者: 844ms 处理了 4000000 个元素
平均生产者时间: 719ms
平均消费者时间: 844ms
=== 增加threadlocal对象池的双锁队列 - 交替push/pop测试 ===
增加threadlocal对象池的双锁队列 - 交替push/pop: 111ms 完成了 1000000 次操作
总Push时间: 51ms
总Pop时间: 29ms
平均每次Push时间: 51ns
平均每次Pop时间: 29ns